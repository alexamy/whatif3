// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Robot from "../lib/Robot.res.mjs";
import * as $$Screen from "./Screen.res.mjs";
import * as Robot3 from "robot3";
import * as ReactRobot from "react-robot";
import * as JsxRuntime from "react/jsx-runtime";

var Info = {};

var M = Robot.Make(Info);

var machine = Robot3.createMachine("Start", M.states([
          [
            "Start",
            Robot3.state(Robot3.transition("Listen", "Listen"))
          ],
          [
            "Listen",
            Robot3.state(Robot3.transition("GoAway", "Start"))
          ],
          [
            "GoAway",
            Robot3.state(Robot3.transition("Run", "Run"))
          ],
          [
            "Run",
            Robot3.state(Robot3.transition("Start", "Start"))
          ]
        ]), (function (initialContext) {
        
      }));

function Game$Start(props) {
  var send = props.send;
  return JsxRuntime.jsx($$Screen.make, {
              content: JsxRuntime.jsx("p", {
                    children: "You were chosen to participate in a secret experiment."
                  }),
              options: [
                [
                  "Listen",
                  (function () {
                      send("Listen");
                    })
                ],
                [
                  "Go away",
                  (function () {
                      send("GoAway");
                    })
                ],
                [
                  "Run",
                  (function () {
                      send("Run");
                    })
                ]
              ]
            });
}

var Start = {
  make: Game$Start
};

function Game$Listen(props) {
  var send = props.send;
  return JsxRuntime.jsx($$Screen.make, {
              content: JsxRuntime.jsx("p", {
                    children: "You are listening to a recording of a person who is being tortured."
                  }),
              options: [
                [
                  "Go back",
                  (function () {
                      send("GoAway");
                    })
                ],
                [
                  "Run",
                  (function () {
                      send("Run");
                    })
                ]
              ]
            });
}

var Listen = {
  make: Game$Listen
};

function Game(props) {
  var match = ReactRobot.useMachine(machine, undefined);
  var send = match[1];
  var match$1 = match[0].name;
  if (match$1 === "Listen") {
    return JsxRuntime.jsx(Game$Listen, {
                send: send
              });
  } else {
    return JsxRuntime.jsx(Game$Start, {
                send: send
              });
  }
}

var make = Game;

export {
  Info ,
  M ,
  machine ,
  Start ,
  Listen ,
  make ,
}
/* M Not a pure module */

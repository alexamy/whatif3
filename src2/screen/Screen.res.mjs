// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Jq from "../lib/Jq.res.mjs";

function replaceWithText(link) {
  var text = Jq.getText(link);
  Jq.replaceWith(link, Jq.string(text));
}

function useSwitch(link, content, initialOpt) {
  var initial = initialOpt !== undefined ? initialOpt : "Unvisited";
  var state = {
    contents: initial
  };
  var update = function (newState) {
    state.contents = newState;
    if (newState !== "Visited") {
      return Jq.hide(content);
    }
    replaceWithText(link);
    Jq.show(content);
  };
  update(initial);
  return {
          toggle: update
        };
}

var Switch = {
  replaceWithText: replaceWithText,
  useSwitch: useSwitch
};

var link = Jq.tree("span", [Jq.string("Читать заметку.")], undefined, undefined);

var content = Jq.tree("span", [Jq.string("\"Привет, мир!\"")], undefined, undefined);

var note = useSwitch(link, content, undefined);

Jq.onClick(link, (function (param) {
        note.toggle("Visited");
      }), {
      once: true
    });

var Note1 = {
  link: link,
  content: content,
  note: note
};

function render() {
  return Jq.tree("div", [
              Jq.string("Вы стоите посреди комнаты. На вашей руке - умные часы. Вы используете их для записи и чтения заметок."),
              Jq.Dom.space(),
              link,
              Jq.Dom.newline(),
              content
            ], undefined, undefined);
}

var Room = {
  Note1: Note1,
  render: render
};

export {
  Switch ,
  Room ,
}
/* link Not a pure module */

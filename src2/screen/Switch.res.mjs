// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Jq from "../lib/Jq.res.mjs";

function make(initialOpt) {
  var initial = initialOpt !== undefined ? initialOpt : "Unvisited";
  var state = {
    contents: initial
  };
  var content = {
    contents: Jq.Dom.$$null()
  };
  var update = function (newStateOpt) {
    var newState = newStateOpt !== undefined ? newStateOpt : initial;
    state.contents = newState;
    if (newState === "Visited") {
      return Jq.show(content.contents);
    } else {
      return Jq.hide(content.contents);
    }
  };
  return {
          content: content,
          update: update
        };
}

var Base = {
  make: make
};

function replaceWithText(link) {
  var text = Jq.getText(link);
  Jq.replaceWith(link, Jq.string(text));
}

function make$1(initialOpt) {
  var initial = initialOpt !== undefined ? initialOpt : "Unvisited";
  var base = make(undefined);
  var link = {
    contents: Jq.Dom.$$null()
  };
  var update = function (newStateOpt) {
    var newState = newStateOpt !== undefined ? newStateOpt : initial;
    base.update(newState);
    if (newState === "Visited") {
      return replaceWithText(link.contents);
    } else {
      return Jq.onClick(link.contents, (function (param) {
                    update("Visited");
                  }), {
                  once: true
                });
    }
  };
  return {
          content: base.content,
          link: link,
          update: update
        };
}

var Toggle = {
  replaceWithText: replaceWithText,
  make: make$1
};

export {
  Base ,
  Toggle ,
}
/* No side effect */
